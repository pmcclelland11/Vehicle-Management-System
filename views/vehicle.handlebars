<main style="margin-bottom: 20px;">
    <section class="display-flex justify-center align-center">
        <input id="filter-input" placeholder="Search Make">
        <button id="filter-button">Search</button>
    </section>
    <br>
    <table class="table table-striped">
        <tr>
            <th>ID</th>
            <th>Make</th>
            <th>Model</th>
            <th>Year</th>
            <th>Mileage</th>
            <th>Type</th>
            <th>Price</th>
            <th>Status</th>
        </tr>
        {{#each vehicles}}
        <a href="/vehicle/{{id}}">
            <tr class="tableRow">
                <td>{{id}}</td>
                <td>{{make}}</td>
                <td>{{model}}</td>
                <td>{{year}}</td>
                <td>{{mileage}} miles</td>
                <td>{{type}}</td>
                <td>${{price}}</td>
                <td>{{#if isSold}} Sold {{else}} Available {{/if}}</td>
            </tr>
        </a>
        {{/each}}
    </table>

    <section class="display-flex justify-center align-center mt-3">
        <button id="logout-button" class="btn btn-primary">Logout</button>
    </section>
</main>

<script src="/js/vehicles.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    const logoutButton = document.getElementById("logout-button");

    logoutButton.addEventListener("click", () => {
        Swal.fire({
            title: "Logout",
            text: "Are you sure you want to logout?",
            icon: "warning",
            showCancelButton: true,
            confirmButtonText: "Yes, logout",
            cancelButtonText: "No, stay logged in",
        }).then((result) => {
            if (result.isConfirmed) {
                // Redirect to logout URL
                window.location.href = "/";
            }
        });
    });
</script>

<!-- Add New Vehicle Modal -->
<div id="add-vehicle-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Add New Vehicle</h2>
        <!-- Form for adding a new vehicle -->
        <form id="add-vehicle-form">
            <div class="form-group">
                <label for="make">Make:</label>
                <input type="text" id="make" name="make" required>
            </div>
            <div class="form-group">
                <label for="model">Model:</label>
                <input type="text" id="model" name="model" required>
            </div>
            <div class="form-group">
                <label for="year">Year:</label>
                <input type="number" id="year" name="year" required>
            </div>
            <div class="form-group">
                <label for="mileage">Mileage:</label>
                <input type="number" id="mileage" name="mileage" required>
            </div>
            <div class="form-group">
                <label for="type">Type:</label>
                <input type="text" id="type" name="type" required>
            </div>
            <div class="form-group">
                <label for="price">Price:</label>
                <input type="number" step="0.01" id="price" name="price" required>
            </div>
            <div class="form-group">
                <label for="isSold">Is Sold:</label>
                <input type="checkbox" id="isSold" name="isSold">
            </div>

            <button type="submit">Submit</button>
        </form>
    </div>
</div>

<script src="/js/vehicles.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    const logoutButton = document.getElementById("logout-button");
    const addVehicleButton = document.getElementById("add-vehicle-button");

    logoutButton.addEventListener("click", () => {
        Swal.fire({
            title: "Logout",
            text: "Are you sure you want to logout?",
            icon: "warning",
            showCancelButton: true,
            confirmButtonText: "Yes, logout",
            cancelButtonText: "No, stay logged in",
        }).then((result) => {
            if (result.isConfirmed) {
                // Redirect to the homepage
                window.location.href = "/";
            }
        });
    });

    addVehicleButton.addEventListener("click", () => {
        // Show the Add New Vehicle modal
        const modal = document.getElementById("add-vehicle-modal");
        modal.style.display = "block";
    });

    // Close the modal when the user clicks the close button
    const closeModal = document.querySelector(".close");
    closeModal.addEventListener("click", () => {
        const modal = document.getElementById("add-vehicle-modal");
        modal.style.display = "none";
    });
</script>

</html>

<!-- Modal for Editing -->
{{!-- <div class="modal" id="editModal">
    <!-- Add your edit form here -->
</div> --}}

<!-- Modal for Confirming Deletion -->
{{!-- <div class="modal" id="deleteModal">
    <div class="modal-content">
        <p>Are you sure you want to delete this vehicle?</p>
        <button class="btn btn-danger" id="confirmDelete">Delete</button>
        <button class="btn btn-secondary" id="cancelDelete">Cancel</button>
    </div>
</div>
<script src="/js/vehicle.js"></script> --}}